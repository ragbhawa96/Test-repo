
package com.pentest4vaadin.demo.services.elements;

import org.openqa.selenium.JavascriptExecutor;
import org.springframework.stereotype.Component;

@Component
public class Input extends AbstractAction {
    protected final String name = "input";

    @Override
    public void performAction(String input, JavascriptExecutor js) {
        if(input != null && !input.isEmpty()) {
            // Fill input.
            js.executeScript("window.proxyelement.value = \"" + input + "\";");
        }

        // Must manuelly dispatch Event.
        js.executeScript("window.proxyelement.dispatchEvent(new Event('change'));");
    }

    @Override
    public String getName() {
        return name;
    }
}
